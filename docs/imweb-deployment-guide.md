# 아임웹 배포 가이드

> **100zoad 웹 컴포넌트를 아임웹에 배포하는 방법**

---

## 📁 배포 파일 구조

아임웹 배포용 파일은 `imweb/` 폴더에 고객사별로 관리됩니다.

```
imweb/
└── {고객사명}/
    ├── main.html       # 메인 페이지 (전체 컴포넌트 통합)
    ├── form.html       # 입력폼 컴포넌트만
    └── footer.html     # 푸터 컴포넌트만
```

**현재 배포 사이트:**
- `doosanweve_kimjunsu` - 두산위브 김준수 고객사

---

## 🚀 배포 절차

### 1. 빌드 실행

```bash
npm run build
```

`dist/` 폴더에 빌드 결과물이 생성됩니다.

### 2. 배포 파일 생성

#### 방법 A: 자동 생성 (권장)

빌드된 파일을 기반으로 아임웹용 HTML 파일을 자동 생성합니다.

```bash
# TODO: 배포 스크립트 구현 예정
npm run deploy:imweb -- --site doosanweve_kimjunsu
```

#### 방법 B: 수동 생성

1. `dist/index.html` 파일을 엽니다
2. 필요한 컴포넌트만 추출하여 복사합니다
3. `imweb/{고객사명}/` 폴더에 저장합니다

### 3. 아임웹 업로드

#### 메인 페이지 통합 (`main.html`)

1. 아임웹 관리자 > 디자인 모드 진입
2. 섹션 추가 > HTML 섹션 선택
3. `main.html` 내용 전체를 복사하여 붙여넣기
4. 저장 및 미리보기

#### 개별 컴포넌트 (`form.html`, `footer.html`)

1. 원하는 위치에 HTML 섹션 추가
2. 해당 컴포넌트 파일 내용 붙여넣기
3. 저장

---

## ⚙️ 아임웹 환경 이슈 및 해결

### 이슈 1: 헤더 배경색 투명

**증상:**
- 헤더 배경이 투명하게 표시됨
- 밝은 회색 테두리가 보임

**해결:**
- `forceHeaderStyles()` 함수가 플로팅 레이어 방식으로 스타일 강제 적용
- z-index: 999999로 최상위 레이어 보장

### 이슈 2: 관심고객등록 버튼 배경 투명

**증상:**
- 특수 메뉴 버튼의 그라데이션 배경이 사라짐

**해결:**
- JavaScript로 그라데이션 배경 강제 적용
- `!important` 플래그 사용

### 이슈 3: 메뉴가 보이지 않음

**증상:**
- PC 메뉴 항목이 렌더링되지 않음

**해결:**
- 모든 요소에 `display: flex !important` 강제 적용
- `opacity: 1 !important`, `visibility: visible !important`

---

## 🧪 테스트 체크리스트

배포 전 다음 항목을 반드시 확인하세요:

- [ ] **헤더**
  - [ ] 배경색이 흰색으로 표시되는가?
  - [ ] 로고가 정상적으로 보이는가?
  - [ ] 메뉴 항목들이 모두 보이는가?
  - [ ] 관심고객등록 버튼 배경이 그라데이션인가?
  - [ ] 스크롤 시 헤더가 고정되는가?

- [ ] **입력폼**
  - [ ] 필수 필드가 모두 표시되는가?
  - [ ] 제출 버튼이 활성화되는가?
  - [ ] 제출 시 Airtable에 데이터가 저장되는가?
  - [ ] 성공 메시지가 표시되는가?

- [ ] **푸터**
  - [ ] 회사 정보가 정상적으로 표시되는가?
  - [ ] 법적 정보 링크가 작동하는가?

- [ ] **모바일 테스트**
  - [ ] 햄버거 메뉴가 768px 이하에서 표시되는가?
  - [ ] 모바일 내비게이터가 하단에 고정되는가?

---

## 📝 배포 이력

### doosanweve_kimjunsu

| 날짜 | 버전 | 변경사항 | 담당자 |
|------|------|----------|--------|
| 2026-01-02 | 1.0.0 | 초기 배포 | merge |
| | | - 헤더, 푸터, 입력폼 컴포넌트 | |
| | | - 아임웹 환경 렌더링 이슈 수정 | |

---

## 🔧 문제 해결

### Q1. 아임웹에서 컴포넌트가 보이지 않아요

**A:** 브라우저 개발자 도구(F12) > Console 탭을 확인하세요.
- 빨간색 오류 메시지가 있는지 확인
- `[100zoad]` 또는 `[HeaderComponent]` 로그를 검색

### Q2. 스타일이 깨져요

**A:** Shadow DOM이 제대로 작동하지 않을 수 있습니다.
- `useShadowDOM: true` 설정 확인
- 아임웹의 CSS가 침투하는지 확인

### Q3. 이벤트가 작동하지 않아요

**A:** 아임웹의 JavaScript와 충돌 가능성이 있습니다.
- `pointer-events: auto` 설정 확인
- z-index가 충분히 높은지 확인

---

## 📞 지원

배포 중 문제가 발생하면 다음 정보를 포함하여 문의하세요:

- 고객사명
- 오류 메시지 (Console 스크린샷)
- 브라우저 정보 (Chrome, Safari 등)
- 모바일/PC 여부

**이메일:** merge@100zoad.local
